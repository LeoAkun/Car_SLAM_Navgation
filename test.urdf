<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from robot.urdf.xacro               | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="robot">
  <!-- <xacro:include filename="$(find robot)/urdf/robot/plugins/gazebo_laser_plugin.xacro"/> -->
  <!-- 虚拟部件，如果base_link为基准坐标点,则轮子会在基准面下方 -->
  <!-- <link name="base_footprint" /> -->
  <!-- 机器人身体 -->
  <link name="base_link">
    <!-- 部件外观描述 -->
    <visual>
      <!-- 沿着自己几何中心的偏移和旋转 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体， 长50cm 宽30cm 高10cm -->
        <box size="0.5 0.30 0.1"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="white">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 1.0 0.5"/>
      </material>
    </visual>
    <!-- 碰撞属性 -->
    <collision>
      <!-- 沿着自己几何中心的偏移和旋转 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体， 长50cm 宽30cm 高10cm -->
        <box size="0.5 0.30 0.1"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="white">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 1.0 0.5"/>
      </material>
    </collision>
    <inertial>
      <mass value="1.0"/>
      <inertia ixx="0.021666666666666667" ixy="0.0" ixz="0.0" iyy="0.02833333333333333" iyz="0.0" izz="0.008333333333333333"/>
    </inertial>
    <damping>
      <linear>0.5</linear>
      <!-- 线性阻尼系数（N·s/m）-->
      <angular>0.5</angular>
      <!-- 旋转阻尼系数（N·m·s/rad）-->
    </damping>
    <mu1>1.0</mu1>
    <!-- 摩擦系数 -->
    <mu2>1.0</mu2>
  </link>
  <!-- <joint name="joint_name" type="fixed"> -->
  <!-- <origin xyz="0.0 0.0 ${0.1/2.0 + 0.025 - 0.001}" rpy="0.0 0.0 0.0"/> -->
  <!-- <parent link="base_footprint"/> -->
  <!-- <child link="base_link"/> -->
  <!-- </joint> -->
  <!-- 机器人的IMU部件 -->
  <link name="imu_link">
    <!-- 部件外观描述 -->
    <visual>
      <!-- 沿着自己几何中心的偏移和旋转 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 正方体， 长0.02m， 宽0.02m，高0.02m -->
        <box size="0.02 0.02 0.02"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="black">
        <!-- RGB透明度 -->
        <color rgba="0.0 0.0 0.0 0.5"/>
      </material>
    </visual>
    <!-- 碰撞属性 -->
    <collision>
      <!-- 沿着自己几何中心的偏移和旋转 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 正方体， 长0.02m， 宽0.02m，高0.02m -->
        <box size="0.02 0.02 0.02"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="black">
        <!-- RGB透明度 -->
        <color rgba="0.0 0.0 0.0 0.5"/>
      </material>
    </collision>
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="3.3333333333333333e-06" ixy="0.0" ixz="0.0" iyy="3.3333333333333333e-06" iyz="0.0" izz="3.3333333333333333e-06"/>
    </inertial>
  </link>
  <!-- 机器人的关节：组合机器人部件 -->
  <!-- IMU是固定死的，所以使用"fixed" -->
  <joint name="imu_joint" type="fixed">
    <!-- 表示把imu固定到机器人上 -->
    <parent link="base_link"/>
    <child link="imu_link"/>
    <!-- 固定位置，固定在几何中心向上0.03m -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.02"/>
  </joint>
  <gazebo reference="imu_link">
    <material>Gazebo/Black</material>
  </gazebo>
  <!-- 机器人的camera部件 -->
  <link name="camera_link">
    <!-- 部件外观描述 -->
    <visual>
      <!-- 沿着自己几何中心的偏移和旋转 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 正方体， 长0.02m， 宽0.02m，高0.02m -->
        <box size="0.02 0.10 0.02"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="red">
        <!-- RGB透明度 -->
        <color rgba="1 0.0 0.0 0.5"/>
      </material>
    </visual>
    <!-- 碰撞属性 -->
    <collision>
      <!-- 沿着自己几何中心的偏移和旋转 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 正方体， 长0.02m， 宽0.02m，高0.02m -->
        <box size="0.02 0.10 0.02"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="red">
        <!-- RGB透明度 -->
        <color rgba="1 0.0 0.0 0.5"/>
      </material>
    </collision>
    <inertial>
      <mass value="0.1"/>
      <inertia ixx="0.0003366666666666667" ixy="0.0" ixz="0.0" iyy="8.666666666666668e-05" iyz="0.0" izz="0.00041666666666666675"/>
    </inertial>
  </link>
  <!-- 机器人的关节：组合机器人部件 -->
  <!-- IMU是固定死的，所以使用"fixed" -->
  <joint name="camera_joint" type="fixed">
    <!-- 表示把carema固定到机器人上 -->
    <parent link="base_link"/>
    <child link="camera_link"/>
    <!-- 固定位置，固定在几何中心向上0.03m -->
    <origin rpy="0.0 0.0 0.0" xyz="0.25 0.0 0.05"/>
  </joint>
  <gazebo reference="camera_link">
    <material>Gazebo/Red</material>
  </gazebo>
  <link name="livox_link">
    <inertial>
      <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="0.00011333333333333334" ixy="0.0" ixz="0.0" iyy="0.00011333333333333334" iyz="0.0" izz="5.9999999999999995e-05"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.1 0.06 0.06"/>
      </geometry>
    </visual>
  </link>
  <joint name="livox_link_joint" type="fixed">
    <parent link="base_link"/>
    <child link="livox_link"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.10"/>
  </joint>
  <gazebo reference="livox_link">
    <sensor name="livox_link" type="ray">
      <pose>0 0 0 0 0 0</pose>
      <visualize>true</visualize>
      <update_rate>10</update_rate>
      <!-- This ray plgin is only for visualization. -->
      <plugin filename="libros2_livox.so" name="livox_link_plugin">
        <ray>
          <scan>
            <horizontal>
              <samples>100</samples>
              <resolution>1</resolution>
              <min_angle>0</min_angle>
              <max_angle>6.2831852</max_angle>
            </horizontal>
            <vertical>
              <samples>360</samples>
              <resolution>1</resolution>
              <min_angle>-0.12601276984444446</min_angle>
              <max_angle>0.9637707965111111</max_angle>
            </vertical>
          </scan>
          <range>
            <min>0.1</min>
            <max>200.0</max>
            <resolution>0.002</resolution>
          </range>
          <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.002</stddev>
          </noise>
        </ray>
        <visualize>false</visualize>
        <samples>30000</samples>
        <downsample>1</downsample>
        <csv_file_name>/home/akun/workspace/CAR/1_URDF_ws/install/ros2_livox_simulation/share/ros2_livox_simulation/scan_mode/mid360.csv</csv_file_name>
        <topic>livox</topic>
      </plugin>
    </sensor>
  </gazebo>
  <!-- 机器人的wheel部件 -->
  <link name="wheel_1_link">
    <!-- 部件外观描述 -->
    <visual>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </visual>
    <!-- 碰撞属性 -->
    <collision>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </collision>
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="3.7916666666666676e-05" ixy="0" ixz="0" iyy="3.7916666666666676e-05" iyz="0" izz="6.250000000000001e-05"/>
    </inertial>
  </link>
  <!-- 机器人的关节：组合机器人部件 -->
  <!-- wheel是活动的，所以使用"continuous" -->
  <joint name="wheel_1_joint" type="revolute">
    <!-- 表示把wheel固定到机器人上 -->
    <parent link="base_link"/>
    <child link="wheel_1_link"/>
    <!-- 固定位置，固定在几何中心向上0.03m -->
    <origin rpy="0.0 0.0 0.0" xyz="0.25 0.17 -0.05"/>
    <!-- 绕y轴旋转 -->
    <axis xyz="0 1 0"/>
    <limit effort="100" lower="-100" upper="100" velocity="10"/>
  </joint>
  <gazebo reference="wheel_1_link">
    <mu1 value="0.0"/>
    <!-- 切向摩擦系数 -->
    <mu2 value="0.0"/>
    <!-- 法向摩擦系数 -->
    <kp value="1000000000.0"/>
    <!-- 刚度擦系数 -->
    <kd value="1.0"/>
    <!-- 阻尼系数 -->
    <material>Gazebo/Yellow</material>
  </gazebo>
  <!-- 机器人的wheel部件 -->
  <link name="wheel_2_link">
    <!-- 部件外观描述 -->
    <visual>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </visual>
    <!-- 碰撞属性 -->
    <collision>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </collision>
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="3.7916666666666676e-05" ixy="0" ixz="0" iyy="3.7916666666666676e-05" iyz="0" izz="6.250000000000001e-05"/>
    </inertial>
  </link>
  <!-- 机器人的关节：组合机器人部件 -->
  <!-- wheel是活动的，所以使用"continuous" -->
  <joint name="wheel_2_joint" type="continuous">
    <!-- 表示把wheel固定到机器人上 -->
    <parent link="base_link"/>
    <child link="wheel_2_link"/>
    <!-- 固定位置，固定在几何中心向上0.03m -->
    <origin rpy="0.0 0.0 0.0" xyz="-0.25 0.17 -0.05"/>
    <!-- 绕y轴旋转 -->
    <axis xyz="0 1 0"/>
    <limit effort="100" lower="-100" upper="100" velocity="10"/>
  </joint>
  <gazebo reference="wheel_2_link">
    <mu1 value="5.0"/>
    <!-- 切向摩擦系数 -->
    <mu2 value="5.0"/>
    <!-- 法向摩擦系数 -->
    <kp value="1000000000.0"/>
    <!-- 刚度擦系数 -->
    <kd value="1.0"/>
    <!-- 阻尼系数 -->
    <material>Gazebo/Yellow</material>
  </gazebo>
  <!-- 机器人的wheel部件 -->
  <link name="wheel_3_link">
    <!-- 部件外观描述 -->
    <visual>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </visual>
    <!-- 碰撞属性 -->
    <collision>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </collision>
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="3.7916666666666676e-05" ixy="0" ixz="0" iyy="3.7916666666666676e-05" iyz="0" izz="6.250000000000001e-05"/>
    </inertial>
  </link>
  <!-- 机器人的关节：组合机器人部件 -->
  <!-- wheel是活动的，所以使用"continuous" -->
  <joint name="wheel_3_joint" type="revolute">
    <!-- 表示把wheel固定到机器人上 -->
    <parent link="base_link"/>
    <child link="wheel_3_link"/>
    <!-- 固定位置，固定在几何中心向上0.03m -->
    <origin rpy="0.0 0.0 0.0" xyz="0.25 -0.17 -0.05"/>
    <!-- 绕y轴旋转 -->
    <axis xyz="0 1 0"/>
    <limit effort="100" lower="-100" upper="100" velocity="10"/>
  </joint>
  <gazebo reference="wheel_3_link">
    <mu1 value="0.0"/>
    <!-- 切向摩擦系数 -->
    <mu2 value="0.0"/>
    <!-- 法向摩擦系数 -->
    <kp value="1000000000.0"/>
    <!-- 刚度擦系数 -->
    <kd value="1.0"/>
    <!-- 阻尼系数 -->
    <material>Gazebo/Yellow</material>
  </gazebo>
  <!-- 机器人的wheel部件 -->
  <link name="wheel_4_link">
    <!-- 部件外观描述 -->
    <visual>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </visual>
    <!-- 碰撞属性 -->
    <collision>
      <!-- 沿着自己几何中心的偏移和旋转(弧度制) -->
      <origin rpy="1.57079 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱 -->
        <cylinder length="0.04" radius="0.05"/>
      </geometry>
      <!-- 材质颜色 -->
      <material name="yellow">
        <!-- RGB透明度 -->
        <color rgba="1.0 1.0 0.0 0.8"/>
      </material>
    </collision>
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="3.7916666666666676e-05" ixy="0" ixz="0" iyy="3.7916666666666676e-05" iyz="0" izz="6.250000000000001e-05"/>
    </inertial>
  </link>
  <!-- 机器人的关节：组合机器人部件 -->
  <!-- wheel是活动的，所以使用"continuous" -->
  <joint name="wheel_4_joint" type="continuous">
    <!-- 表示把wheel固定到机器人上 -->
    <parent link="base_link"/>
    <child link="wheel_4_link"/>
    <!-- 固定位置，固定在几何中心向上0.03m -->
    <origin rpy="0.0 0.0 0.0" xyz="-0.25 -0.17 -0.05"/>
    <!-- 绕y轴旋转 -->
    <axis xyz="0 1 0"/>
    <limit effort="100" lower="-100" upper="100" velocity="10"/>
  </joint>
  <gazebo reference="wheel_4_link">
    <mu1 value="5.0"/>
    <!-- 切向摩擦系数 -->
    <mu2 value="5.0"/>
    <!-- 法向摩擦系数 -->
    <kp value="1000000000.0"/>
    <!-- 刚度擦系数 -->
    <kd value="1.0"/>
    <!-- 阻尼系数 -->
    <material>Gazebo/Yellow</material>
  </gazebo>
  <gazebo>
    <!-- 插件 -->
    <plugin filename="libgazebo_ros_diff_drive.so" name="diff_drive">
      <!-- 传递给ROS的参数 -->
      <ros>
        <namespace>/</namespace>
        <remapping>cmd_vel:=cmd_vel_smooth</remapping>
        <remapping>odom:=odom</remapping>
      </ros>
      <!-- 话题发布频率 -->
      <update_rate>30</update_rate>
      <!-- 轮子控制,使用后驱 -->
      <!-- <left_Joint>wheel_1_joint</left_joint> -->
      <left_joint>wheel_2_joint</left_joint>
      <!-- <right_joint>wheel_3_joint</right_joint> -->
      <right_joint>wheel_4_joint</right_joint>
      <!-- 运动学配置，例如轮距,  轮子直径-->
      <wheel_separation>0.3</wheel_separation>
      <wheel_diameter>0.10</wheel_diameter>
      <!-- 限制与约束，如最大扭矩, 最大加速度 -->
      <max_wheel_torque>1000</max_wheel_torque>
      <max_wheel_acceleration>5.0</max_wheel_acceleration>
      <!-- 决定是否发布某些话题 -->
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>true</publish_wheel_tf>
      <odometry_frame>odom</odometry_frame>
      <!-- <robot_base_frame>base_footprint</robot_base_frame> -->
      <robot_base_frame>base_link</robot_base_frame>
    </plugin>
  </gazebo>
  <gazebo reference="imu_link">
    <sensor name="imu_sensor" type="imu">
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <ros>
          <namespace>/</namespace>
          <remapping>~/out:=imu_raw</remapping>
        </ros>
        <initial_orientation_as_reference>true</initial_orientation_as_reference>
      </plugin>
      <update_rate>200</update_rate>
      <always_on>true</always_on>
      <!-- 六轴噪声设置 -->
      <imu>
        <angular_velocity>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.000000</bias_mean>
              <bias_stddev>0.0000000</bias_stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0</stddev>
              <bias_mean>0.0</bias_mean>
              <bias_stddev>0.0000000</bias_stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0</stddev>
              <bias_mean>0.0</bias_mean>
              <bias_stddev>0.0000000</bias_stddev>
            </noise>
          </z>
        </angular_velocity>
        <linear_acceleration>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.0</bias_mean>
              <bias_stddev>0.000</bias_stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.0</bias_mean>
              <bias_stddev>0.000</bias_stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>0.0</stddev>
              <bias_mean>0.0</bias_mean>
              <bias_stddev>0.000</bias_stddev>
            </noise>
          </z>
        </linear_acceleration>
      </imu>
    </sensor>
  </gazebo>
  <!-- <xacro:gazebo_laser_plugin/> -->
</robot>
